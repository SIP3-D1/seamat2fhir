{
  "resourceType": "StructureDefinition",
  "id": "jp-procedure-seamat",
  "url": "http://jpfhir.jp/fhir/SEAMAT/StructureDefinition/JP_Procedure_SEAMAT",
  "name": "JP_Procedure_SEAMAT",
  "title": "SEAMAT Common Procedure Profile",
  "status": "active",
  "date": "2023-11-13",
  "description": "このプロファイルはProcedureリソースに対して、検査実施データを送受信するための共通の制約と拡張を定めたものである。",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "workflow",
      "uri": "http://hl7.org/fhir/workflow",
      "name": "Workflow Pattern"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    },
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2 Mapping"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Procedure",
  "baseDefinition": "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Procedure",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Procedure.meta.lastUpdated",
        "path": "Procedure.meta.lastUpdated",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Procedure.meta.profile",
        "path": "Procedure.meta.profile",
        "min": 1,
        "patternCanonical": "http://jpfhir.jp/fhir/SEAMAT/StructureDefinition/JP_Procedure_SEAMAT",
        "mustSupport": true
      },
      {
        "id": "Procedure.identifier",
        "path": "Procedure.identifier",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "system"
            }
          ],
          "rules": "open"
        },
        "min": 3
      },
      {
        "id": "Procedure.identifier:placerOrderNo",
        "path": "Procedure.identifier",
        "sliceName": "placerOrderNo",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Procedure.identifier:placerOrderNo.type.coding.system",
        "path": "Procedure.identifier.type.coding.system",
        "fixedUri": "http://terminology.hl7.org/CodeSystem/v2-0203"
      },
      {
        "id": "Procedure.identifier:placerOrderNo.type.coding.code",
        "path": "Procedure.identifier.type.coding.code",
        "fixedCode": "PLAC"
      },
      {
        "id": "Procedure.identifier:placerOrderNo.type.coding.display",
        "path": "Procedure.identifier.type.coding.display",
        "fixedString": "Placer Identifier"
      },
      {
        "id": "Procedure.identifier:placerOrderNo.system",
        "path": "Procedure.identifier.system",
        "min": 1,
        "fixedUri": "http://jpfhir.jp/fhir/SEAMAT/IdSystem/placer-order-no"
      },
      {
        "id": "Procedure.identifier:placerOrderNo.value",
        "path": "Procedure.identifier.value",
        "short": "<オーダ番号>",
        "definition": "SS-MIX2拡張ストレージのコンテンツフォルダ名の特定キーに含まれる<オーダ番号>をセットする。"
      },
      {
        "id": "Procedure.identifier:fillerOrderNo",
        "path": "Procedure.identifier",
        "sliceName": "fillerOrderNo",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Procedure.identifier:fillerOrderNo.type.coding.system",
        "path": "Procedure.identifier.type.coding.system",
        "fixedUri": "http://terminology.hl7.org/CodeSystem/v2-0203"
      },
      {
        "id": "Procedure.identifier:fillerOrderNo.type.coding.code",
        "path": "Procedure.identifier.type.coding.code",
        "fixedCode": "FILL"
      },
      {
        "id": "Procedure.identifier:fillerOrderNo.type.coding.display",
        "path": "Procedure.identifier.type.coding.display",
        "fixedString": "Filler Identifier"
      },
      {
        "id": "Procedure.identifier:fillerOrderNo.system",
        "path": "Procedure.identifier.system",
        "min": 1,
        "fixedUri": "http://jpfhir.jp/fhir/SEAMAT/IdSystem/filler-order-no"
      },
      {
        "id": "Procedure.identifier:fillerOrderNo.value",
        "path": "Procedure.identifier.value",
        "short": "<部門管理番号>",
        "definition": "SS-MIX2拡張ストレージのコンテンツフォルダ名の特定キーに含まれる<部門管理番号>をセットする。"
      },
      {
        "id": "Procedure.identifier:fillerDataNo",
        "path": "Procedure.identifier",
        "sliceName": "fillerDataNo",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Procedure.identifier:fillerDataNo.system",
        "path": "Procedure.identifier.system",
        "min": 1,
        "patternUri": "http://jpfhir.jp/fhir/SEAMAT/IdSystem/filler-data-no"
      },
      {
        "id": "Procedure.identifier:fillerDataNo.value",
        "path": "Procedure.identifier.value",
        "short": "<データ管理番号>",
        "definition": "SS-MIX2拡張ストレージのコンテンツフォルダ名の特定キーに含まれる<データ管理番号>をセットする。"
      },
      {
        "id": "Procedure.instantiatesUri",
        "path": "Procedure.instantiatesUri",
        "max": "0"
      },
      {
        "id": "Procedure.basedOn",
        "path": "Procedure.basedOn",
        "max": "0"
      },
      {
        "id": "Procedure.partOf",
        "path": "Procedure.partOf",
        "max": "0"
      },
      {
        "id": "Procedure.status",
        "path": "Procedure.status",
        "fixedCode": "completed"
      },
      {
        "id": "Procedure.statusReason",
        "path": "Procedure.statusReason",
        "max": "0"
      },
      {
        "id": "Procedure.category",
        "path": "Procedure.category",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Procedure.category.coding.system",
        "path": "Procedure.category.coding.system",
        "fixedUri": "http://jpfhir.jp/fhir/SEAMAT/CodeSystem/JP_Procedure_SEAMAT_Category_CS"
      },
      {
        "id": "Procedure.category.coding.code",
        "path": "Procedure.category.coding.code",
        "short": "<データ種別コード><レポート/データフラグ>",
        "definition": "SS-MIX2拡張ストレージのコンテンツフォルダ名のデータ種別に含まれる<データ種別コード><レポート/データフラグ>をセットする。\r\n例：LJCS-100D"
      },
      {
        "id": "Procedure.category.coding.display",
        "path": "Procedure.category.coding.display",
        "short": "<データ種別コード><レポート/データフラグ>に対する名称",
        "definition": "SS-MIX2拡張ストレージのコンテンツフォルダ名のデータ種別に含まれる<データ種別コード><レポート/データフラグ>に対する名称を合成したテキストをセットする。\r\n例：心電図検査データ"
      },
      {
        "id": "Procedure.code",
        "path": "Procedure.code",
        "max": "0"
      },
      {
        "id": "Procedure.subject",
        "path": "Procedure.subject",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://jpfhir.jp/fhir/SEAMAT/StructureDefinition/JP_Patient_SEAMAT"
            ]
          }
        ]
      },
      {
        "id": "Procedure.encounter",
        "path": "Procedure.encounter",
        "max": "0"
      },
      {
        "id": "Procedure.performed[x]",
        "path": "Procedure.performed[x]",
        "short": "<検査日>",
        "definition": "SS-MIX2拡張ストレージのコンテンツフォルダ名の診療日に含まれる<検査日>をセットする。",
        "min": 1,
        "type": [
          {
            "code": "dateTime"
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Procedure.recorder",
        "path": "Procedure.recorder",
        "max": "0"
      },
      {
        "id": "Procedure.asserter",
        "path": "Procedure.asserter",
        "max": "0"
      },
      {
        "id": "Procedure.performer.function",
        "path": "Procedure.performer.function",
        "max": "0"
      },
      {
        "id": "Procedure.performer.actor",
        "path": "Procedure.performer.actor",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://jpfhir.jp/fhir/SEAMAT/StructureDefinition/JP_PractitionerRole_SEAMAT_Performer"
            ]
          }
        ]
      },
      {
        "id": "Procedure.performer.onBehalfOf",
        "path": "Procedure.performer.onBehalfOf",
        "max": "0"
      },
      {
        "id": "Procedure.location",
        "path": "Procedure.location",
        "max": "0"
      },
      {
        "id": "Procedure.reasonCode",
        "path": "Procedure.reasonCode",
        "max": "0"
      },
      {
        "id": "Procedure.reasonReference",
        "path": "Procedure.reasonReference",
        "max": "0"
      },
      {
        "id": "Procedure.bodySite",
        "path": "Procedure.bodySite",
        "max": "0"
      },
      {
        "id": "Procedure.outcome",
        "path": "Procedure.outcome",
        "max": "0"
      },
      {
        "id": "Procedure.report",
        "path": "Procedure.report",
        "max": "0"
      },
      {
        "id": "Procedure.complication",
        "path": "Procedure.complication",
        "max": "0"
      },
      {
        "id": "Procedure.complicationDetail",
        "path": "Procedure.complicationDetail",
        "max": "0"
      },
      {
        "id": "Procedure.followUp",
        "path": "Procedure.followUp",
        "max": "0"
      },
      {
        "id": "Procedure.note",
        "path": "Procedure.note",
        "max": "0"
      },
      {
        "id": "Procedure.focalDevice",
        "path": "Procedure.focalDevice",
        "max": "0"
      },
      {
        "id": "Procedure.usedReference",
        "path": "Procedure.usedReference",
        "max": "0"
      },
      {
        "id": "Procedure.usedCode",
        "path": "Procedure.usedCode",
        "max": "0"
      }
    ]
  }
}
